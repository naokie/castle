#!/usr/bin/env zsh

source $HOME/src/github.com/zsh-users/zaw/zaw.zsh
zstyle ':filter-select' case-insensitive yes
zstyle ':filter-select' hist-find-no-dups yes
bindkey '^R' zaw-history

function peco-src() {
	local selected_dir=$(ghq list --full-path | peco --query "$LBUFFER");
	if [ -n "$selected_dir" ]; then
		BUFFER="cd ${selected_dir}";
		zle accept-line;
	fi;
	zle clear-screen;
}
zle -N peco-src;
bindkey '^]' peco-src;
